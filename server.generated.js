(()=>{var e={417:(e,r,o)=>{"use strict";var t;o.d(r,{A:()=>l}),e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a={env:"production",port:process.env.PORT||3e3,jwtSecret:process.env.JWT_SECRET||"YOUR_secret_key",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||"mongodb://"+(process.env.IP||"localhost")+":"+(process.env.MONGO_PORT||"27017")+"/mernproject"},s=a,l=s;var n,d;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(a,"config","D:\\Develop\\mern_skeleton\\config\\config.js"),n.register(s,"default","D:\\Develop\\mern_skeleton\\config\\config.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},933:(e,r,o)=>{"use strict";o.d(r,{A:()=>v});var t=o(781);const a=require("jsonwebtoken");var s=o.n(a);const l=require("express-jwt");var n,d=o(417);e=o.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=async(e,r)=>{try{let o=await t.A.findOne({email:e.body.email});if(!o)return r.status(401).json({error:"User not found"});if(!o.authenticate(e.body.password))return r.status(401).send({error:"Email and password don't match."});const a=s().sign({_id:o._id},d.A.jwtSecret);return r.cookie("t",a,{expire:new Date+9999}),r.json({token:a,user:{_id:o._id,name:o.name,email:o.email}})}catch(e){return r.status(401).json({error:"Could not sign in"})}},u=(e,r)=>(r.clearCookie("t"),r.status(200).json({message:"signed out"})),c=(0,l.expressjwt)({algorithms:["HS256"],secret:d.A.jwtSecret,userProperty:"auth"}),p=(e,r,o)=>{if(!e.profile||!e.auth||e.profile._id!=e.auth._id)return r.status(403).json({error:"User is not authorized"});o()},f={signin:i,signout:u,requireSignin:c,hasAuthorization:p},v=f;var m,g;(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(i,"signin","D:\\Develop\\mern_skeleton\\server\\controllers\\auth.controller.js"),m.register(u,"signout","D:\\Develop\\mern_skeleton\\server\\controllers\\auth.controller.js"),m.register(c,"requireSignin","D:\\Develop\\mern_skeleton\\server\\controllers\\auth.controller.js"),m.register(p,"hasAuthorization","D:\\Develop\\mern_skeleton\\server\\controllers\\auth.controller.js"),m.register(f,"default","D:\\Develop\\mern_skeleton\\server\\controllers\\auth.controller.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},575:(e,r,o)=>{"use strict";o.d(r,{A:()=>m});var t=o(781);const a=require("lodash/extend");var s,l=o.n(a),n=o(526);e=o.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=async(e,r,o)=>{const a=new t.A(e.body);try{return await a.save(),r.status(200).json({message:"Successfully signed up"})}catch(e){return r.status(400).json({error:n.A.getErrorMessage(e)})}},i=async(e,r)=>{try{let e=await t.A.find().select("name email updated created");r.json(e)}catch(e){return r.status(400).json({error:n.A.getErrorMessage(e)})}},u=async(e,r,o,a)=>{try{let s=await t.A.findById(a);if(!s)return r.status(400).json({error:"User not found"});e.profile=s,o()}catch(e){return r.status(400).json({error:"Could not retrieve user"})}},c=(e,r)=>(e.profile.hashed_password=void 0,e.profile.salt=void 0,r.json(e.profile)),p=async(e,r,o)=>{try{let o=r.profile;o=l()(o,e.body),o.updated=Date.now(),await o.save(),o.hashed_password=void 0,o.salt=void 0,r.json(o)}catch(e){return r.status(400).json({error:n.A.getErrorMessag(e)})}},f=async(e,r,o)=>{try{let e=r.profile,o=await e.remove();o.hashed_password=void 0,o.salt=void 0}catch(e){return r.status(400).json({error:n.A.getErrorMessag(e)})}},v={create:d,userByID:u,read:c,list:i,remove:f,update:p},m=v;var g,b;(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(d,"create","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js"),g.register(i,"list","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js"),g.register(u,"userByID","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js"),g.register(c,"read","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js"),g.register(p,"update","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js"),g.register(f,"remove","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js"),g.register(v,"default","D:\\Develop\\mern_skeleton\\server\\controllers\\user.controller.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},891:(e,r,o)=>{"use strict";var t;o.d(r,{A:()=>l}),o(417),o(807),require("webpack-dev-middleware"),require("webpack-hot-middleware"),o(650),e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=e=>{},s={compile:a},l=s;var n,d;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(a,"compile","D:\\Develop\\mern_skeleton\\server\\devBundle.js"),n.register(s,"default","D:\\Develop\\mern_skeleton\\server\\devBundle.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},630:(e,r,o)=>{"use strict";o.d(r,{A:()=>w});var t=o(252),a=o.n(t);const s=require("body-parser");var l=o.n(s);const n=require("cookie-parser");var d=o.n(n);const i=require("compression");var u=o.n(i);const c=require("cors");var p=o.n(c);const f=require("helmet");var v,m=o.n(f),g=o(340),b=o(171),h=o(891),y=o(928),H=o.n(y),G=o(176);e=o.hmd(e),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&v(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const L=a()();h.A.compile(L),L.use(l().json()),L.use(l().urlencoded({extended:!0})),L.use(d()()),L.use(u()()),L.use(m()()),L.use(p()()),L.use("/",g.A),L.use("/",b.A),L.use(((e,r,o,t)=>{"UnauthorizedError"==e.name?o.status(401).json({error:e.name+": "+e.message}):e&&o.status(400).json({error:e.name+": "+e.message})})),L.use((function(e,r,o){return r.setHeader("Content-Security-Policy","script-src 'unsafe-eval' 'self' https://apis.google.com"),o()}));const D=process.cwd();L.use("/dist",a().static(H().join(D,"dist"))),L.get("/",((e,r)=>{r.status(200).send((0,G.A)())}));const j=L,w=j;var _,k;(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(L,"app","D:\\Develop\\mern_skeleton\\server\\express.js"),_.register(D,"CURRENT_WORKING_DIR","D:\\Develop\\mern_skeleton\\server\\express.js"),_.register(j,"default","D:\\Develop\\mern_skeleton\\server\\express.js")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},526:(e,r,o)=>{"use strict";var t;o.d(r,{A:()=>n}),e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=e=>{let r="";if(e.code)switch(e.code){case 11e3:case 11001:r=s(e);break;default:r="Something went wrong"}else for(let o in e.errors)e.errors[o].message&&(r=e.errors[o].message);return r},s=e=>{let r;try{let o=e.message.substring(e.message.lastIndexOf(".$")+2,e.message.lastIndexOf("_1"));r=o.charAt(0).toUpperCase()+o.slice(1)+" already exists"}catch(e){r="Unique field already exists"}return r},l={getErrorMessage:a},n=l;var d,i;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(a,"getErrorMessage","D:\\Develop\\mern_skeleton\\server\\helpers\\dbErrorHandler.js"),d.register(s,"getUniqueErrorMessage","D:\\Develop\\mern_skeleton\\server\\helpers\\dbErrorHandler.js"),d.register(l,"default","D:\\Develop\\mern_skeleton\\server\\helpers\\dbErrorHandler.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},781:(e,r,o)=>{"use strict";o.d(r,{A:()=>i}),o(252);var t,a=o(37),s=o.n(a);e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=o(982),n=new(s().Schema)({name:{type:String,trim:!0,required:"Name is required"},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required"},created:{type:Date,default:Date.now},updated:Date,hashed_password:{type:String,required:"Password is required"},salt:String});n.virtual("password").set((function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)})).get((function(){return this._password})),n.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return"";try{return l.createHmac("sha1",this.salt).update(e).digest("hex")}catch(e){return console.log(e),""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}},n.path("hashed_password").validate((function(e){this._password&&this._password.length<6&&this.invalidate("password","Password must be at least 6 characters."),this.isNew&&!this._password&&this.invalidate("password","Password is required")}),null);const d=s().model("User",n),i=d;var u,c;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(n,"UserSchema","D:\\Develop\\mern_skeleton\\server\\models\\user.model.js"),u.register(d,"default","D:\\Develop\\mern_skeleton\\server\\models\\user.model.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},171:(e,r,o)=>{"use strict";o.d(r,{A:()=>i});var t,a=o(252),s=o.n(a),l=o(933);e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=s().Router();n.route("/auth/signin").post(l.A.signin),n.route("/auth/signout").get(l.A.signout);const d=n,i=d;var u,c;(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(n,"router","D:\\Develop\\mern_skeleton\\server\\routes\\auth.routes.js"),u.register(d,"default","D:\\Develop\\mern_skeleton\\server\\routes\\auth.routes.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},340:(e,r,o)=>{"use strict";o.d(r,{A:()=>u});var t,a=o(252),s=o.n(a),l=o(575),n=o(933);e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const d=s().Router();d.route("/api/users").get(l.A.list).post(l.A.create),d.route("/api/users/:userId").get(n.A.requireSignin,l.A.read).put(n.A.requireSignin,n.A.hasAuthorization,l.A.update).delete(n.A.requireSignin,n.A.hasAuthorization,l.A.remove),d.param("userId",l.A.userByID);const i=d,u=i;var c,p;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(d,"router","D:\\Develop\\mern_skeleton\\server\\routes\\user.routes.js"),c.register(i,"default","D:\\Develop\\mern_skeleton\\server\\routes\\user.routes.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},176:(e,r,o)=>{"use strict";var t;o.d(r,{A:()=>s}),e=o.hmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=()=>'<!doctype html>\n     <html lang="en">\n      <head>\n      <meta charset="utf-8">      \n      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400">\n      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" >\n       <title>MERN Skeleton</title>\n      </head>\n      <body>\n       <div id="root"></div>\n       <script type="text/javascript" src="/dist/bundle.js"><\/script>\n      </body>\n     </html>',s=a;var l,n;(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&l.register(a,"default","D:\\Develop\\mern_skeleton\\template.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)},650:(e,r,o)=>{var t;e=o.nmd(e),(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const a=o(928),s=o(807),l=process.cwd(),n={name:"browser",mode:"development",devtool:"eval-source-map",entry:["webpack-hot-middleware/client?reload=true",a.join(l,"client/main.js")],output:{path:a.join(l,"/dist"),filename:"bundle.js",publicPath:"/dist/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"}]},plugins:[new s.HotModuleReplacementPlugin,new s.NoEmitOnErrorsPlugin],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}}};var d,i;e.exports=n,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(l,"CURRENT_WORKING_DIR","D:\\Develop\\mern_skeleton\\webpack.config.client.js"),d.register(n,"config","D:\\Develop\\mern_skeleton\\webpack.config.client.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},252:e=>{"use strict";e.exports=require("express")},37:e=>{"use strict";e.exports=require("mongoose")},807:e=>{"use strict";e.exports=require("webpack")},982:e=>{"use strict";e.exports=require("crypto")},928:e=>{"use strict";e.exports=require("path")}},r={};function o(t){var a=r[t];if(void 0!==a)return a.exports;var s=r[t]={id:t,loaded:!1,exports:{}};return e[t](s,s.exports,o),s.loaded=!0,s.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var t={};(()=>{"use strict";o.r(t);var e=o(417),r=o(630),a=o(37),s=o.n(a);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,r.A.listen(e.A.port,(r=>{r&&console.log(r),console.info("Server started on port %s.",e.A.port)})),s().Promise=global.Promise,s().connect(e.A.mongoUri),s().connection.on("error",(r=>{throw new Error(`unable to connect to database: ${e.A.mongoUri} with ${r}`)}))})(),module.exports=t})();